{"version":3,"sources":["assets/images/HerokuImage.png","components/Login.js","components/Register.js","components/Dashboard.js","components/Loader/Loader.js","actions/login.js","components/SignIn/SignIn.js","App.js","index.js"],"names":["module","exports","Copyright","Typography","variant","color","align","to","Date","getFullYear","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","form","width","submit","margin","Login","setAuth","useState","email","password","inputs","setInputs","onChange","e","target","name","value","onSubmitForm","a","preventDefault","values","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","data","status","success","console","log","respToken","token","localStorage","setItem","message","err","error","classes","Container","component","maxWidth","className","Grid","container","justify","src","HerokuLogo","height","onSubmit","type","placeholder","errorMessage","Button","fullWidth","item","Box","mt","Register","firstName","lastName","parseRes","Dashboard","backdrop","zIndex","drawer","Loader","show","Backdrop","open","CircularProgress","login","history","dispatch","jwtDecode","push","catch","connect","state","loading","loginerror","useHistory","useEffect","removeItem","formik","useFormik","initialValues","validate","errors","test","handleSignIn","deloitteAvatar","handleSubmit","TextField","id","label","autoFocus","size","handleChange","Boolean","touched","helperText","Array","isArray","style","xs","App","isAuthenticated","setIsAuthenticated","boolean","exact","path","render","props","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3f17c907.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/HerokuImage.13ed3891.png\";","import React, { Fragment, useState } from \"react\";\r\n\r\n//Styling\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport HerokuLogo from \"../assets/images/HerokuImage.png\";\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link to=\"/\">Deloitte Heroku App Team</Link> {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst Login = ({ setAuth }) => {\r\n  const [inputs, setInputs] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const { email, password } = inputs;\r\n  const onChange = (e) => {\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value });\r\n  };\r\n  const onSubmitForm = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const values = { email, password };\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(values)\r\n    };\r\n    fetch('/api/login', requestOptions)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n\r\n      const status = data.success;\r\n      console.log(status);\r\n\r\n      if (status == true) {\r\n        const respToken = data.data.token;\r\n\r\n        localStorage.setItem(\"token\", respToken);\r\n        localStorage.setItem(\"message\", data.status)\r\n        localStorage.setItem(\"state\", 'Login Succesful')\r\n        setAuth(true);\r\n      } else {\r\n        setAuth(false);\r\n        localStorage.setItem(\"token\", '');\r\n        localStorage.setItem(\"message\", data.message)\r\n        localStorage.setItem(\"state\", '')\r\n        console.log(data.message);\r\n      }\r\n\r\n    })\r\n\r\n      \r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Fragment>\r\n      <Container component=\"main\" maxWidth=\"xs\" className=\"signin\">\r\n        <Grid container justify=\"center\">\r\n          <div className={classes.paper}>\r\n            <img src={HerokuLogo} height=\"120\" />\r\n          </div>\r\n        </Grid>\r\n        <div className={classes.paper}>\r\n          <h1>Sign In</h1>\r\n          <form onSubmit={onSubmitForm}>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Email\"\r\n              className=\"form-control my-3\"\r\n              value={email}\r\n              errorMessage=\"Email is required\"\r\n              onChange={(e) => onChange(e)}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n              className=\"form-control my-3\"\r\n              value={password}\r\n              onChange={(e) => onChange(e)}\r\n            />\r\n\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign In\r\n            </Button>\r\n            <Grid container justify=\"flex-end\">\r\n              <Grid item>\r\n                <Link to=\"/register\" className=\"help-auth-text\">\r\n                  Visiting for the first time? Sign up\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n        <Box mt={8}>\r\n          <Copyright />\r\n        </Box>\r\n      </Container>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { Fragment, useState } from \"react\";\r\n\r\n//Styling\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\n\r\nimport HerokuLogo from \"../assets/images/HerokuImage.png\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link to=\"/\">Deloitte Heroku App Team</Link> {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst Register = ({ setAuth }) => {\r\n  const [inputs, setInputs] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n  });\r\n\r\n  const { email, password, firstName, lastName } = inputs;\r\n  const onChange = (e) => {\r\n    setInputs({ ...inputs, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const onSubmitForm = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const body = { email, password, firstName, lastName };\r\n      const response = await fetch(\"/api/register\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n      const parseRes = await response.json();\r\n      console.log(parseRes);\r\n\r\n      localStorage.setItem(\"token\", parseRes.token);\r\n\r\n      setAuth(true);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Fragment>\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <Grid container justify=\"center\">\r\n          <div className={classes.paper}>\r\n            <img src={HerokuLogo} height=\"120\" />\r\n          </div>\r\n        </Grid>\r\n        <div className={classes.paper}>\r\n          <h1>Sign Up</h1>\r\n          <form onSubmit={onSubmitForm}>\r\n            <input\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              placeholder=\"First Name\"\r\n              className=\"form-control my-3\"\r\n              value={firstName}\r\n              onChange={(e) => onChange(e)}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              placeholder=\"Last Name\"\r\n              className=\"form-control my-3\"\r\n              value={lastName}\r\n              onChange={(e) => onChange(e)}\r\n            />\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Username\"\r\n              className=\"form-control my-3\"\r\n              value={email}\r\n              onChange={(e) => onChange(e)}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n              className=\"form-control my-3\"\r\n              value={password}\r\n              onChange={(e) => onChange(e)}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign Up\r\n            </Button>\r\n            <Grid container justify=\"flex-end\">\r\n              <Grid item>\r\n                <Link to=\"/\" className=\"help-auth-text\">\r\n                  Already have an account? Sign in\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n        <Box mt={5}>\r\n          <Copyright />\r\n        </Box>\r\n      </Container>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { Fragment } from 'react'\r\n\r\nconst Dashboard = () => {\r\n    return (\r\n        <Fragment>\r\n            <h1>\r\n                Dashboard\r\n            </h1>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","import React from 'react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#000',\r\n  },\r\n}));\r\n\r\nexport default function Loader({ show }) {\r\n  const classes = useStyles();\r\n  return (\r\n    <div>\r\n      <Backdrop className={classes.backdrop} open={show}>\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n    </div>\r\n  );\r\n}\r\n","import jwtDecode from 'jwt-decode';\r\n\r\nconst login = (values, history) => {\r\n    return function (dispatch) {\r\n        dispatch({ type: 'LOADING', response: true });\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(values)\r\n        };\r\n        fetch('/api/login', requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.success) {\r\n                    let token = data.data.token;\r\n                    if (token) {\r\n                        dispatch({ type: 'LOADING', response: false });\r\n                        localStorage.setItem('usertoken', data.data.token);\r\n                        const token = jwtDecode(data.data.token);\r\n                        \r\n                     //   if(token.role){\r\n                          console.log((token));\r\n                         //   if(token.role.indexOf('admin')>-1){\r\n                       //         dispatch({ type: 'LOGIN_SUCCESS', response: {token:data.data.token,role:'admin' }});\r\n                         //   }\r\n                           // else if(token.role.indexOf('licensed')>-1){\r\n                             //   dispatch({ type: 'LOGIN_SUCCESS', response: {token:data.data.token,role:'licensed' }});\r\n                            //}else{\r\n                              //  dispatch({ type: 'LOGIN_SUCCESS', response: {token:data.data.token,role:'standard' }});\r\n                           // }\r\n                       // }\r\n                        \r\n                        history.push('/dashboard');\r\n                    }\r\n                } else {\r\n                    let error = data.message;\r\n                    dispatch({ type: 'LOADING', response: false });\r\n                    dispatch({ type: 'LOGIN_FAILURE', response: error });\r\n                    history.push('/');\r\n                }\r\n            })\r\n            .catch(err => {\r\n                dispatch({ type: 'LOADING', response: false });\r\n                dispatch({ type: 'LOGIN_FAILURE', response: err })\r\n            });\r\n    }\r\n}\r\n\r\nexport default login;","import React, { useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { Link } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { useFormik } from 'formik';\r\nimport { useHistory } from \"react-router\";\r\nimport Loader from '../Loader/Loader';\r\nimport { connect } from 'react-redux'\r\nimport login from '../../actions/login';\r\nimport PropTypes from 'prop-types';\r\nimport './SignIn.scss';\r\nimport HerokuLogo from '../../assets/images/HerokuImage.png';\r\n\r\nfunction Copyright() {\r\n    return (\r\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n            {'Copyright © '}\r\n            <Link to=\"/\">\r\n               Deloitte App\r\n            </Link>{' '}\r\n            {new Date().getFullYear()}\r\n            {'.'}\r\n        </Typography>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    form: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\nfunction SignIn({ dispatch, loading, error }) {\r\n    const classes = useStyles();\r\n    let history = useHistory();\r\n    function handleSignIn(values) {\r\n        dispatch(login(values, history));\r\n        console.log(values);\r\n   }\r\n\r\n    const validate = values => {\r\n        const errors = {};\r\n        if (!values.email) {\r\n            errors.email = 'Required';\r\n        } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n            errors.email = 'Invalid email address';\r\n        }\r\n        if (!values.password) {\r\n            errors.password = 'Required';\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!loading){\r\n            localStorage.removeItem('usertoken');\r\n            localStorage.removeItem('state');\r\n            dispatch({ type: 'LOGOUT_USER', response: null });\r\n        }\r\n    }, [loading]); \r\n    \r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: '',\r\n            password: '',\r\n        },\r\n        validate,\r\n        onSubmit: values => {\r\n            handleSignIn(values);\r\n        }\r\n    });\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\" className=\"signin\">\r\n            <Loader show={loading} />\r\n            <div className={classes.paper}>\r\n                <Grid container justify=\"center\">\r\n                    <div className={classes.deloitteAvatar}>\r\n                        <img src={HerokuLogo} height=\"120\"/>\r\n                    </div>\r\n                </Grid>\r\n                <form className={classes.form} onSubmit={formik.handleSubmit}>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        id=\"email\"\r\n                        label=\"Email Address\"\r\n                        name=\"email\"\r\n                        autoFocus\r\n                        size=\"small\"\r\n                        onChange={formik.handleChange}\r\n                        value={formik.values.email}\r\n                        className=\"text-small-2\"\r\n                        error={Boolean(formik.touched.email && formik.errors.email)}\r\n                        helperText={(formik.touched.email && formik.errors.email) && formik.errors.email}\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        name=\"password\"\r\n                        label=\"Password\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        size=\"small\"\r\n                        onChange={formik.handleChange}\r\n                        value={formik.values.password}\r\n                        error={Boolean(formik.touched.password && formik.errors.password)}\r\n                        helperText={(formik.touched.password && formik.errors.password) && formik.errors.password}\r\n                    />\r\n                    \r\n                    {error && !Array.isArray(error) && typeof(error)==='string' && <Typography component=\"h3\" variant=\"body1\" style={{'textAlign':'center'}}>\r\n                        <span className=\"text-small-2\" style={{color:'#da291c'}}>\r\n                            {error}\r\n                        </span>\r\n                    </Typography>}\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                    >\r\n                        Sign In\r\n                    </Button>\r\n                    <Grid container>\r\n                        <Grid item xs>\r\n                            <Link to=\"/forgot\" className=\"help-auth-text\">\r\n                                Forgot password?\r\n                            </Link>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Link to=\"/register\" className=\"help-auth-text\">\r\n                                {\"Don't have an account?  Sign Up\"}\r\n                            </Link>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n            <Box mt={8}>\r\n                <Copyright />\r\n            </Box>\r\n        </Container>\r\n    );\r\n}\r\n\r\nSignIn.propTypes = {\r\n    loading: PropTypes.bool.isRequired\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loading: state.loading,\r\n      error: state.login.loginerror\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SignIn)\r\n//export default SignIn\r\n","import React, { Fragment, useState } from \"react\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\n//Simple Page components\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport Dashboard from \"./components/Dashboard\";\nimport SignIn from \"./components/SignIn/SignIn\";\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  const setAuth = (boolean) => {\n    //created a function to check if authenticated]\n    setIsAuthenticated(boolean);\n  };\n\n  return (\n    <Fragment>\n      <Router>\n        <div className = \"container\">\n          <Switch>\n            <Route\n              exact\n              path=\"/\"\n              render={(props) =>\n                !isAuthenticated ? (\n                  <Login {...props} setAuth={setAuth} />\n                ) : (\n                  <Redirect to=\"/dashboard\" />\n                )\n              }\n            />\n            <Route\n              exact\n              path=\"/login\"\n              render={(props) =>\n                !isAuthenticated ? (\n                  <Login {...props} setAuth={setAuth} />\n                ) : (\n                  <Redirect to=\"/dashboard\" />\n                )\n              }\n            />\n            <Route\n              exact\n              path=\"/register\"\n              render={(props) =>\n                !isAuthenticated ? (\n                  <Register {...props} setAuth={setAuth} />\n                ) : (\n                  <Redirect to=\"/register\" />\n                )\n              }\n            />\n            <Route\n              exact\n              path=\"/dashboard\"\n              render={(props) =>\n                isAuthenticated ? (\n                  <Dashboard {...props} setAuth={setAuth} />\n                ) : (\n                  <Redirect to=\"/login\" />\n                )\n              }\n            />\n          </Switch>\n        </div>\n      </Router>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}